<project name="OIM" basedir="." default="all">
	<!-- Project settings -->
	<property name="project.title" value="OIM-CORE" />
	<property name="project.jar.file" value="oim-core.jar" />
	<path id="class.path">
		<fileset dir="lib">
			<include name="**/*.jar" />
		</fileset>
	</path>

	<!-- Classpath for Project -->

	<path id="compile.classpath">
		<pathelement path="classes" />
		<pathelement path="${classpath}" />
	</path>

	<!-- Check timestamp on files -->

	<target name="prepare">
		<tstamp />
		<copy file="hibernate.cfg.xml" todir="antbin" />

	</target>
	<!-- Copy any resource or configuration files -->

	<target name="resources">
		<copy todir="antbin" includeEmptyDirs="no">
			<fileset dir="src">
				<patternset>
					<include name="**/*.conf" />
					<include name="**/*.properties" />
					<include name="**/*.xml" />
					<include name="**/*.java" />
				</patternset>
			</fileset>
		</copy>
	</target>

	<!-- Normal build of application -->

	<target name="compile" depends="prepare,resources">
		<!--
			Capture the path as a delimited property using the refid attribute
		-->
		<property name="myclasspath" refid="class.path" />
		<!-- Emit the property to the ant console -->
		<echo message="Classpath = ${myclasspath}" />

		<javac srcdir="src" destdir="antbin" debug="true" debuglevel="lines,vars,source"
			target="1.5" source="1.5">
			<classpath refid="class.path" />
		</javac>

		<jar jarfile="antbin/${project.jar.file}" basedir="antbin" />
		<copy file="antbin/${project.jar.file}" todir="/home/jitendra/tools/apache-tomcat-7.0.16/webapps/oim/WEB-INF/lib" />
	</target>
	<!-- Remove classes directory for clean build -->

	<target name="clean" description="Prepare for clean build">
		<delete dir="antbin" />
		<mkdir dir="antbin" />
	</target>

	<!-- Build entire project -->

	<target name="project" depends="clean,prepare,compile" />

	<!-- Build project and create distribution-->
	<target name="all" depends="project" />

</project>

